<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>U.S. Commercial Banks Data — banks07 • snreg</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="U.S. Commercial Banks Data — banks07"><meta name="description" content="banks07 is a data frame containing selected variables for
500 U.S. commercial banks, randomly sampled from approximately 5000 banks,
based on the dataset of Koetter et al. (2012) for year 2007.
The dataset is provided solely for illustration and pedagogical purposes
and is not suitable for empirical research."><meta property="og:description" content="banks07 is a data frame containing selected variables for
500 U.S. commercial banks, randomly sampled from approximately 5000 banks,
based on the dataset of Koetter et al. (2012) for year 2007.
The dataset is provided solely for illustration and pedagogical purposes
and is not suitable for empirical research."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">snreg</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../illustration.html">User Guide/Illustration</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">All functions manuals</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News/Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>U.S. Commercial Banks Data</h1>

      <div class="d-none name"><code>banks07.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>banks07</code> is a data frame containing selected variables for
500 U.S. commercial banks, randomly sampled from approximately 5000 banks,
based on the dataset of Koetter et al. (2012) for year 2007.
The dataset is provided solely for illustration and pedagogical purposes
and is not suitable for empirical research.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">banks07</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="format">Format<a class="anchor" aria-label="anchor" href="#format"></a></h2>
    <p>A data frame with the following variables:</p><dl><dt><code>year</code></dt>
<dd><p>Year (2007).</p></dd>

  <dt><code>id</code></dt>
<dd><p>Entity (bank) identifier.</p></dd>

  <dt><code>TA</code></dt>
<dd><p>Gross total assets.</p></dd>

  <dt><code>LLP</code></dt>
<dd><p>Loan loss provisions.</p></dd>

  <dt><code>Y1</code></dt>
<dd><p>Total securities (thousands of USD).</p></dd>

  <dt><code>Y2</code></dt>
<dd><p>Total loans and leases (thousands of USD).</p></dd>

  <dt><code>W1</code></dt>
<dd><p>Cost of fixed assets divided by the cost of borrowed funds.</p></dd>

  <dt><code>W2</code></dt>
<dd><p>Cost of labor (thousands of USD) divided by the cost of borrowed funds.</p></dd>

  <dt><code>ER</code></dt>
<dd><p>Equity-to-assets ratio (gross).</p></dd>

  <dt><code>TC</code></dt>
<dd><p>Total operating cost.</p></dd>

  <dt><code>LA</code></dt>
<dd><p>Ratio of total loans and leases to gross total assets.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p><a href="http://qed.econ.queensu.ca/jae/2014-v29.2/restrepo-tobon-kumbhakar/" class="external-link">http://qed.econ.queensu.ca/jae/2014-v29.2/restrepo-tobon-kumbhakar/</a></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>U.S. Commercial Banks Data (2007)</p>

<p>The dataset was created by sampling and transforming variables as shown in the
section <strong>Examples</strong>.
It is intended to illustrate the usage of functions from this package
(e.g. stochastic frontier models with skew-normal noise).</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Koetter, M., Kolari, J., &amp; Spierdijk, L. (2012).
<em>Enjoying the quiet life under deregulation? Evidence from adjusted Lerner indices for U.S. banks</em>.
Review of Economics and Statistics, <b>94</b>(2), 462–480.</p>
<p>Restrepo-Tobon, D. &amp; Kumbhakar, S. (2014).
<em>Enjoying the quiet life under deregulation? Not Quite</em>.
Journal of Applied Econometrics, <b>29</b>(2), 333–343.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Construct sample panel dataset (banks00_07)</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Download data from the link in "Source"</span></span></span>
<span class="r-in"><span><span class="va">banks00_07</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.delim</a></span><span class="op">(</span><span class="st">"2b_QLH.txt"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># rename 'entity' to 'id'</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">banks00_07</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">banks00_07</span><span class="op">)</span> <span class="op">==</span> <span class="st">"entity"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"id"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># keep only years 2000–2007</span></span></span>
<span class="r-in"><span><span class="va">banks00_07</span> <span class="op">&lt;-</span> <span class="va">banks00_07</span><span class="op">[</span></span></span>
<span class="r-in"><span>  <span class="va">banks00_07</span><span class="op">$</span><span class="va">year</span> <span class="op">&gt;=</span> <span class="fl">2000</span> <span class="op">&amp;</span> <span class="va">banks00_07</span><span class="op">$</span><span class="va">year</span> <span class="op">&lt;=</span> <span class="fl">2007</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># restrict sample to interquartile range of total assets</span></span></span>
<span class="r-in"><span><span class="va">q1q3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">banks00_07</span><span class="op">$</span><span class="va">TA</span>, probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.25</span>, <span class="fl">.75</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">banks00_07</span> <span class="op">&lt;-</span> <span class="va">banks00_07</span><span class="op">[</span></span></span>
<span class="r-in"><span>  <span class="va">banks00_07</span><span class="op">$</span><span class="va">TA</span> <span class="op">&gt;=</span> <span class="va">q1q3</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&amp;</span> <span class="va">banks00_07</span><span class="op">$</span><span class="va">TA</span> <span class="op">&lt;=</span> <span class="va">q1q3</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># generate required variables</span></span></span>
<span class="r-in"><span><span class="va">banks00_07</span><span class="op">$</span><span class="va">TC</span> <span class="op">&lt;-</span> <span class="va">banks00_07</span><span class="op">$</span><span class="va">TOC</span></span></span>
<span class="r-in"><span><span class="va">banks00_07</span><span class="op">$</span><span class="va">ER</span> <span class="op">&lt;-</span> <span class="va">banks00_07</span><span class="op">$</span><span class="va">Z</span>  <span class="op">/</span> <span class="va">banks00_07</span><span class="op">$</span><span class="va">TA</span>   <span class="co"># Equity ratio</span></span></span>
<span class="r-in"><span><span class="va">banks00_07</span><span class="op">$</span><span class="va">LA</span> <span class="op">&lt;-</span> <span class="va">banks00_07</span><span class="op">$</span><span class="va">Y2</span> <span class="op">/</span> <span class="va">banks00_07</span><span class="op">$</span><span class="va">TA</span>   <span class="co"># Loans-to-assets ratio</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># keep only needed variables</span></span></span>
<span class="r-in"><span><span class="va">keep.vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"year"</span>, <span class="st">"Ti"</span>, <span class="st">"TC"</span>, <span class="st">"Y1"</span>, <span class="st">"Y2"</span>, <span class="st">"W1"</span>,<span class="st">"W2"</span>,</span></span>
<span class="r-in"><span>               <span class="st">"ER"</span>, <span class="st">"LA"</span>, <span class="st">"TA"</span>, <span class="st">"LLP"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">banks00_07</span> <span class="op">&lt;-</span> <span class="va">banks00_07</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">banks00_07</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">keep.vars</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># number of periods per id</span></span></span>
<span class="r-in"><span><span class="va">t0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/by.html" class="external-link">by</a></span><span class="op">(</span><span class="va">banks00_07</span><span class="op">$</span><span class="va">id</span>, <span class="va">banks00_07</span><span class="op">$</span><span class="va">id</span>,</span></span>
<span class="r-in"><span>                    FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">qq</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">qq</span><span class="op">)</span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">banks00_07</span><span class="op">$</span><span class="va">Ti</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">t0</span>, times <span class="op">=</span> <span class="va">t0</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># keep if Ti &gt; 4</span></span></span>
<span class="r-in"><span><span class="va">banks00_07</span> <span class="op">&lt;-</span> <span class="va">banks00_07</span><span class="op">[</span><span class="va">banks00_07</span><span class="op">$</span><span class="va">Ti</span> <span class="op">&gt;</span> <span class="fl">4</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># complete observations only</span></span></span>
<span class="r-in"><span><span class="va">banks00_07</span> <span class="op">&lt;-</span> <span class="va">banks00_07</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html" class="external-link">complete.cases</a></span><span class="op">(</span><span class="va">banks00_07</span><span class="op">)</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># sample 500 banks at random</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">816376586</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">id_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">banks00_07</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ids2choose</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">id_names</span>, <span class="fl">500</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">banks00_07</span> <span class="op">&lt;-</span> <span class="va">banks00_07</span><span class="op">[</span><span class="va">banks00_07</span><span class="op">$</span><span class="va">id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">ids2choose</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># recompute Ti</span></span></span>
<span class="r-in"><span><span class="va">t0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/by.html" class="external-link">by</a></span><span class="op">(</span><span class="va">banks00_07</span><span class="op">$</span><span class="va">id</span>, <span class="va">banks00_07</span><span class="op">$</span><span class="va">id</span>,</span></span>
<span class="r-in"><span>                    FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">qq</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">qq</span><span class="op">)</span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">banks00_07</span><span class="op">$</span><span class="va">Ti</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">t0</span>, times <span class="op">=</span> <span class="va">t0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">banks00_07</span> <span class="op">&lt;-</span> <span class="va">banks00_07</span><span class="op">[</span><span class="va">banks00_07</span><span class="op">$</span><span class="va">Ti</span> <span class="op">&gt;</span> <span class="fl">4</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># sort</span></span></span>
<span class="r-in"><span><span class="va">banks00_07</span> <span class="op">&lt;-</span> <span class="va">banks00_07</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">banks00_07</span><span class="op">$</span><span class="va">id</span>, <span class="va">banks00_07</span><span class="op">$</span><span class="va">year</span><span class="op">)</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">banks07</span> <span class="op">&lt;-</span> <span class="va">banks00_07</span><span class="op">[</span><span class="va">banks00_07</span><span class="op">$</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://OlegBadunenko.github.io/" class="external-link">Oleg Badunenko</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

